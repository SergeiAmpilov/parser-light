(()=>{"use strict";const e=new class{baseUrl;constructor(e){this.baseUrl=e}request(e,t,r){return fetch(this.baseUrl+t,{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((e=>e.json())).then((e=>e))}showPreloader(e){e.innerHTML='\n    <div class="row">\n      <div class="valign-wrapper">\n        <div class="preloader-wrapper small active">\n          <div class="spinner-layer spinner-green-only">\n            <div class="circle-clipper left">\n              <div class="circle"></div>\n            </div><div class="gap-patch">\n              <div class="circle"></div>\n            </div><div class="circle-clipper right">\n              <div class="circle"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    '}ddRunTask(e){return this.request("POST","downdetector/run",{url:e})}}("http://localhost:3000/"),t=t=>{t.preventDefault();const r=new FormData(t.target).get("url");e.showPreloader(t.target),e.ddRunTask(r),setTimeout((()=>location.reload()),1e3)};function r(e){const t=e.target.dataset.url,r=e.target.dataset.taskid;console.log("click parse",r,t);const n={url:t,taskid:Number(r)};fetch("/seoparser/parsepages",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(n)})}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".footer__year").forEach((e=>{e.innerHTML=(new Date).getFullYear()})),(()=>{const e=document.forms;e.downdetectorform&&e.downdetectorform.addEventListener("submit",t)})(),document.querySelectorAll(".button__parse-pages").forEach((e=>{e.addEventListener("click",r)}))}))})();